<?xml version="1.0" encoding="UTF-8"?>
<Graph author="alarned" created="Wed Apr 22 13:35:14 EDT 2015" guiVersion="4.0.4" id="1429724397662" licenseCode="RegCode" licenseType="Community" modified="Mon Jul 06 15:31:25 EDT 2015" modifiedBy="alarned" name="CreateVendorProduct" revision="1.177" showComponentDetails="true">
<Global>
<Metadata id="CHPL_To_Insert" previewAttachment="C:/Users/alarned/git/chpl-api/chpl/chpl-etl/src/main/resources/chpl_to-insert.csv" previewAttachmentCharset="ISO-8859-1">
<Record fieldDelimiter="^" label="chpl_to-insert.csv" name="CHPL_To_Insert" previewAttachment="C:/Users/alarned/git/chpl-api/chpl/chpl-etl/src/main/resources/chpl_to-insert.csv" previewAttachmentCharset="ISO-8859-1" quoteChar="both" quotedStrings="false" recordDelimiter="\r\n" skipSourceRows="1" type="delimited">
<Field name="STG_Certification_Certification_ID" type="string"/>
<Field name="Certification_Edition_Year" type="string"/>
<Field name="CHPL_Display" type="string"/>
<Field name="Certification_Status" type="string"/>
<Field name="ACB_Certification_ID" type="string"/>
<Field name="Practice_Setting" type="string"/>
<Field name="Product_Classification" type="string"/>
<Field name="Product" type="string"/>
<Field name="Vendor" type="string"/>
<Field name="Additional_Software" type="string"/>
<Field name="Version" type="string"/>
<Field name="Certification_Date" type="string"/>
<Field name="Certifying_ACB" type="string"/>
<Field name="Other_ACB" type="string"/>
<Field name="Test_Report_Url" type="string"/>
<Field name="_170_302_a_Drug_drug_drug_allergy" type="string"/>
<Field name="_170_302_b_Drug_formulary_checks" type="string"/>
<Field name="_170_302_c_Maintain_up_to_date_prob" type="string"/>
<Field name="_170_302_d_Maintain_active_med_list" type="string"/>
<Field name="_170_302_e_Maintain_active_allergy_list" type="string"/>
<Field name="_170_302_f_Record_and_Chart_Vital_Signs" type="string"/>
<Field name="_170_302_f_1_Record_and_Chart_Vital" type="string"/>
<Field name="_170_302_f_2_Calculate_BMI" type="string"/>
<Field name="_170_302_f_3_Plot_and_display_growth" type="string"/>
<Field name="_170_302_g_Smoking_status" type="string"/>
<Field name="_170_302_h_Incorporate_lab_test_results" type="string"/>
<Field name="_170_302_i_Generate_patient_lists" type="string"/>
<Field name="_170_302_j_Medication_Reconciliation" type="string"/>
<Field name="_170_302_k_Submission_to_immun" type="string"/>
<Field name="_170_302_l_Public_Health_Surveillance" type="string"/>
<Field name="_170_302_m_Patient_Specific_Education" type="string"/>
<Field name="_170_302_n_Automated_measure_calc" type="string"/>
<Field name="_170_302_o_Access_Control" type="string"/>
<Field name="_170_302_p_Emergency_Access" type="string"/>
<Field name="_170_302_q_Automatic_log_off" type="string"/>
<Field name="_170_302_r_Audit_Log" type="string"/>
<Field name="_170_302_s_Integrity" type="string"/>
<Field name="_170_302_t_Authentication" type="string"/>
<Field name="_170_302_u_General_Encryption" type="string"/>
<Field name="_170_302_v_Encryption_when_exchanging" type="string"/>
<Field name="_170_302_w_Accounting_of_disclosures" type="string"/>
<Field name="_170_304_a_Computerized_provider_OE" type="string"/>
<Field name="_170_304_b_Electronic_Prescribing" type="string"/>
<Field name="_170_304_c_Record_Demographics" type="string"/>
<Field name="_170_304_d_Patient_Reminders" type="string"/>
<Field name="_170_304_e_Clinical_Decision_Support" type="string"/>
<Field name="_170_304_f_Electronic_Copy_of_Health" type="string"/>
<Field name="_170_304_g_Timely_Access" type="string"/>
<Field name="_170_304_h_Clinical_Summaries" type="string"/>
<Field name="_170_304_i_Exchange_Clinical_Info" type="string"/>
<Field name="_170_304_j_Calculate_and_Submit_Clinical" type="string"/>
<Field name="_170_306_a_Computerized_Provider_OE" type="string"/>
<Field name="_170_306_b_Record_Demographics" type="string"/>
<Field name="_170_306_c_Clinical_Decision_Support" type="string"/>
<Field name="_170_306_d_Electronic_copy_of_Health_Inf" type="string"/>
<Field name="_170_306_d_1_Electronic_copy_of_health" type="string"/>
<Field name="_170_306_d_2_E_copy_of_health_info" type="string"/>
<Field name="_170_306_e_Electronic_copy_of_discharge" type="string"/>
<Field name="_170_306_f_Exchange_Clinical_Info" type="string"/>
<Field name="_170_306_g_Reportable_Lab_Results" type="string"/>
<Field name="_170_306_h_Advance_Directives" type="string"/>
<Field name="_170_306_i_Calculate_and_Submit_Clinical" type="string"/>
<Field name="NQF_0001_A_Asthma_Assessment" type="string"/>
<Field name="NQF_0002_A_Pharyngitis_Testing" type="string"/>
<Field name="NQF_0004_A_Alcohol_and_Other_Drug_Depe" type="string"/>
<Field name="NQF_0012_A_Prenatal_Care_HIV" type="string"/>
<Field name="NQF_0013_A_Hypertension_Blood_Pressure" type="string"/>
<Field name="NQF_0014_A_Prenatal_Care_Immune_Globul" type="string"/>
<Field name="NQF_0018_A_Controlling_High_Blood_Pres" type="string"/>
<Field name="NQF_0024_A_Weight_Assessment_for_Child" type="string"/>
<Field name="NQF_0027_A_Smoking_and_Tobacco_Use" type="string"/>
<Field name="NQF_0028_A_Preventive_Care_Screening" type="string"/>
<Field name="NQF_0031_A_Breast_Cancer_Screening" type="string"/>
<Field name="NQF_0032_A_Cervical_Cancer_Screening" type="string"/>
<Field name="NQF_0033_A_Chlamydia_Screening_for_Wome" type="string"/>
<Field name="NQF_0034_A_Colorectal_Cancer_Screening" type="string"/>
<Field name="NQF_0036_A_Use_of_Medication_for_Asthma" type="string"/>
<Field name="NQF_0038_A_Child_Immunization_Status" type="string"/>
<Field name="NQF_0041_A_Preventive_Care_Screening" type="string"/>
<Field name="NQF_0043_A_Pneomonia_Vaccination_Status" type="string"/>
<Field name="NQF_0047_A_Asthma_Pharmacologic_Therapy" type="string"/>
<Field name="NQF_0052_A_Low_Back_Pain_Imaging" type="string"/>
<Field name="NQF_0055_A_Diabetes_Eye_Exam" type="string"/>
<Field name="NQF_0056_A_Diabetes_Foot_Exam" type="string"/>
<Field name="NQF_0059_A_Diabetes_Hemoglobin_A1c" type="string"/>
<Field name="NQF_0061_A_Diabetes_BP_Management" type="string"/>
<Field name="NQF_0062_A_Diabates_Urine_Screening" type="string"/>
<Field name="NQF_0064_A_Diabetes_LDL" type="string"/>
<Field name="NQF_0067_A_Coronary_Artery_Disease" type="string"/>
<Field name="NQF_0068_A_Vascular_Disease_Aspirin" type="string"/>
<Field name="NQF_0070_A_CAD_Beta_Blocker_Therapy" type="string"/>
<Field name="NQF_0073_A_Vascular_Disease_BP_Mgmt" type="string"/>
<Field name="NQF_0074_A_Coronary_Artery_Disease" type="string"/>
<Field name="NQF_0075_A_Vascular_Disease_LDL" type="string"/>
<Field name="NQF_0081_A_Heart_Failure_ACE_Inhibitor" type="string"/>
<Field name="NQF_0083_A_Heart_Failure_LVSD_Therapy" type="string"/>
<Field name="NQF_0084_A_Heart_Failure_Warfarin" type="string"/>
<Field name="NQF_0086_A_Primary_Open_Angle_Glaucoma" type="string"/>
<Field name="NQF_0088_A_Diabetic_Retinopathy_Docs" type="string"/>
<Field name="NQF_0089_A_Diabetic_Retinopathy_Com" type="string"/>
<Field name="NQF_0105_A_Anti_depressant_Med_Mgmt" type="string"/>
<Field name="NQF_0371_I_VTE_Prophylaxis" type="string"/>
<Field name="NQF_0372_I_VTE_Intensive_Care_Unit" type="string"/>
<Field name="NQF_0373_I_VTE_Anticoagulation_Overlap" type="string"/>
<Field name="NQF_0374_I_VTE_Platelet_Monitoring" type="string"/>
<Field name="NQF_0375_I_VTE_Discharge_Instructions" type="string"/>
<Field name="NQF_0376_I_VTE_Incidence_of_Preventabl" type="string"/>
<Field name="NQF_0385_A_Oncology_Colon_Cancer" type="string"/>
<Field name="NQF_0387_A_Oncology_Brest_Cancer" type="string"/>
<Field name="NQF_0389_A_Prostate_Cancer_Bone_Scan" type="string"/>
<Field name="NQF_0421_A_Adult_Weight_Screening" type="string"/>
<Field name="NQF_0435_I_Stroke_Discharge" type="string"/>
<Field name="NQF_0436_I_Stroke_Anticoagulation" type="string"/>
<Field name="NQF_0437_I_Stroke_Thrombolytic" type="string"/>
<Field name="NQF_0438_I_Stroke_Ischemic_Hemorrhagic" type="string"/>
<Field name="NQF_0439_I_Stroke_Discharge_on_Statins" type="string"/>
<Field name="NQF_0440_I_Stroke_Stroke_Education" type="string"/>
<Field name="NQF_0441_I_Stroke_Rehabilitation" type="string"/>
<Field name="NQF_0495_I_ED_Median_Time" type="string"/>
<Field name="NQF_0497_I_ED_Admission_Decision" type="string"/>
<Field name="NQF_0575_A_Diabetes_Hemoglobin_A1c" type="string"/>
<Field name="_170_314_a_1_Computerized_provider_OE" type="string"/>
<Field name="_170_314_a_2_Drug_drug_drug_allergy" type="string"/>
<Field name="_170_314_a_3_Demographics" type="string"/>
<Field name="_170_314_a_4_Vital_signs_body_mass_ind" type="string"/>
<Field name="_170_314_a_5_Problem_List" type="string"/>
<Field name="_170_314_a_6_Medication_List" type="string"/>
<Field name="_170_314_a_7_Medication_Allergy_List" type="string"/>
<Field name="_170_314_a_8_Clinical_Decision_Support" type="string"/>
<Field name="_170_314_a_9_Electronic_Notes" type="string"/>
<Field name="_170_314_a_10_Drug_Formulary_Checks" type="string"/>
<Field name="_170_314_a_11_Smoking_Status" type="string"/>
<Field name="_170_314_a_12_Image_Results" type="string"/>
<Field name="_170_314_a_13_Family_Health_History" type="string"/>
<Field name="_170_314_a_14_Patient_List_Creation" type="string"/>
<Field name="_170_314_a_15_Patient_Specific_Educatio" type="string"/>
<Field name="_170_314_a_16_Electronic_Medication_Adm" type="string"/>
<Field name="_170_314_a_17_Advance_Directives" type="string"/>
<Field name="_170_314_a__18__Cmp_pvdr_order_entry_med" type="string"/>
<Field name="_170_314_a__19__Cmp_pvdr_order_entry_lab" type="string"/>
<Field name="_170_314_a__20__Cmp_pvdr_order_entry_DI" type="string"/>
<Field name="_170_314_b_1_Transitions_of_Care_rece" type="string"/>
<Field name="_170_314_b_2_Transitions_of_Care_crea" type="string"/>
<Field name="_170_314_b_3_Electronic_Prescribing" type="string"/>
<Field name="_170_314_b_4_Clinical_Information_Recon" type="string"/>
<Field name="_170_314_b_5_Incorporate_Laboratory_Tes" type="string"/>
<Field name="_170_314_b_6_Transmission_of_Electronic" type="string"/>
<Field name="_170_314_b_7_Data_Portability" type="string"/>
<Field name="_170_314_b__8__Transitions_of_care" type="string"/>
<Field name="_170_314_b__9__Clinic_info_recon_and_inc" type="string"/>
<Field name="_170_314_c_1_Clinical_Quality_Measures" type="string"/>
<Field name="_170_314_c_2_Clinical_Quality_Measures" type="string"/>
<Field name="_170_314_c_3_Clinical_Quality_Measures" type="string"/>
<Field name="_170_314_d_1_Authentication_access_con" type="string"/>
<Field name="_170_314_d_2_Auditable_Events_and_Tampe" type="string"/>
<Field name="_170_314_d_3_Audit_Report_s" type="string"/>
<Field name="_170_314_d_4_Amendments" type="string"/>
<Field name="_170_314_d_5_Automatic_log_off" type="string"/>
<Field name="_170_314_d_6_Emergency_access" type="string"/>
<Field name="_170_314_d_7_End_User_Device_Encryption" type="string"/>
<Field name="_170_314_d_8_Integrity" type="string"/>
<Field name="_170_314_d_9_Accounting_of_Disclosures" type="string"/>
<Field name="_170_314_e_1_View_Download_and_Transm" type="string"/>
<Field name="_170_314_e_2_Clinical_Summary" type="string"/>
<Field name="_170_314_e_3_Secure_Messaging" type="string"/>
<Field name="_170_314_f_1_Immunization_Information" type="string"/>
<Field name="_170_314_f_2_Transmission_to_Immunizati" type="string"/>
<Field name="_170_314_f_3_Transmission_to_Public_Hea" type="string"/>
<Field name="_170_314_f_4_Transmission_of_Reportable" type="string"/>
<Field name="_170_314_f_5_Cancer_Case_Information" type="string"/>
<Field name="_170_314_f_6_Transmission_to_Cancer_Reg" type="string"/>
<Field name="_170_314_f__7__Transm_to_agencies_syndrom" type="string"/>
<Field name="_170_314_g_1_Automated_Numerator_Record" type="string"/>
<Field name="_170_314_g_2_Automated_Measure_Calculat" type="string"/>
<Field name="_170_314_g_3_Safety_Enhanced_Design" type="string"/>
<Field name="_170_314_g_4_Quality_Management_System" type="string"/>
<Field name="_170_314_h__1__App_Stmt_Sec_Hlth_Trans" type="string"/>
<Field name="_170_314_h__2__Trnsprt_Direct_Msg" type="string"/>
<Field name="_170_314_h__3__SOAP_Trnsprt_Direct" type="string"/>
<Field name="CMS100_AMI_2_Aspirin_Prescribed_at_Dis" type="string"/>
<Field name="CMS102_Stroke_10_Ischemic_or_hemorrhag" type="string"/>
<Field name="CMS104_Stroke_2_Ischemic_stroke_Dis" type="string"/>
<Field name="CMS105_Stroke_6_Ischemic_stroke_Disc" type="string"/>
<Field name="CMS107_Stroke_8_Ischemic_or_hemorrhagi" type="string"/>
<Field name="CMS108_Venous_Thromboembolism_VTE_1" type="string"/>
<Field name="CMS109_VTE_4_VTE_Patients_Receiving_Un" type="string"/>
<Field name="CMS110_VTE_5_VTE_discharge_instruction" type="string"/>
<Field name="CMS111_ED_2_Emergency_Department_Throu" type="string"/>
<Field name="CMS113_PC_01_Elective_Delivery_Prior_t" type="string"/>
<Field name="CMS114_VTE_6_Incidence_of_potentially" type="string"/>
<Field name="CMS117_Childhood_Immunization_Status" type="string"/>
<Field name="CMS122_Diabetes_Hemoglobin_A1c_Poor" type="string"/>
<Field name="CMS123_Diabetes_Foot_Exam" type="string"/>
<Field name="CMS124_Cervical_Cancer_Screening" type="string"/>
<Field name="CMS125_Breast_Cancer_Screening" type="string"/>
<Field name="CMS126_Use_of_Appropriate_Medications" type="string"/>
<Field name="CMS127_Pneumonia_Vaccination_Status_fo" type="string"/>
<Field name="CMS128_Anti_depressant_Medication_Mana" type="string"/>
<Field name="CMS129_Prostate_Cancer_Avoidance_of" type="string"/>
<Field name="CMS130_Colorectal_Cancer_Screening" type="string"/>
<Field name="CMS131_Diabetes_Eye_Exam" type="string"/>
<Field name="CMS132_Cataracts_Complications_withi" type="string"/>
<Field name="CMS133_Cataracts_20_40_or_Better_Vis" type="string"/>
<Field name="CMS134_Diabetes_Urine_Protein_Screen" type="string"/>
<Field name="CMS135_Heart_Failure_HF_Angiotensi" type="string"/>
<Field name="CMS136_ADHD_Follow_Up_Care_for_Child" type="string"/>
<Field name="CMS137_Initiation_and_Engagement_of_Al" type="string"/>
<Field name="CMS138_Preventive_Care_and_Screening" type="string"/>
<Field name="CMS139_Screening_for_Future_Fall_Risk" type="string"/>
<Field name="CMS140_Breast_Cancer_Hormonal_Therapy" type="string"/>
<Field name="CMS141_Colon_Cancer_Chemotherapy_for" type="string"/>
<Field name="CMS142_Diabetic_Retinopathy_Communic" type="string"/>
<Field name="CMS143_Primary_Open_Angle_Glaucoma_PO" type="string"/>
<Field name="CMS144_Heart_Failure_HF_Beta_Block" type="string"/>
<Field name="CMS145_Coronary_Artery_Disease_CAD" type="string"/>
<Field name="CMS146_Appropriate_Testing_for_Childre" type="string"/>
<Field name="CMS147_Preventative_Care_and_Screening" type="string"/>
<Field name="CMS148_Hemoglobin_A1c_Test_for_Pediatr" type="string"/>
<Field name="CMS149_Dementia_Cognitive_Assessment" type="string"/>
<Field name="CMS153_Chlamydia_Screening_for_Women" type="string"/>
<Field name="CMS154_Appropriate_Treatment_for_Child" type="string"/>
<Field name="CMS155_Weight_Assessment_and_Counselin" type="string"/>
<Field name="CMS156_Use_of_High_Risk_Medications_in" type="string"/>
<Field name="CMS157_Oncology_Medical_and_Radiatio" type="string"/>
<Field name="CMS158_Pregnant_women_that_had_HBsAg_t" type="string"/>
<Field name="CMS159_Depression_Remission_at_Twelve" type="string"/>
<Field name="CMS160_Depression_Utilization_of_the_P" type="string"/>
<Field name="CMS161_Major_Depressive_Disorder_MDD" type="string"/>
<Field name="CMS163_Diabetes_Low_Density_Lipoprot" type="string"/>
<Field name="CMS164_Ischemic_Vascular_Disease_IVD" type="string"/>
<Field name="CMS165_Controlling_High_Blood_Pressure" type="string"/>
<Field name="CMS166_Use_of_Imaging_Studies_for_Low" type="string"/>
<Field name="CMS167_Diabetic_Retinopathy_Document" type="string"/>
<Field name="CMS169_Bipolar_Disorder_and_Major_Depr" type="string"/>
<Field name="CMS171_SCIP_INF_1_Prophylactic_Antibio" type="string"/>
<Field name="CMS172_SCIP_INF_2_Prophylactic_Antibio" type="string"/>
<Field name="CMS177_Child_and_Adolescent_Major_Depr" type="string"/>
<Field name="CMS178_SCIP_INF_9_Urinary_catheter_re" type="string"/>
<Field name="CMS179_ADE_Prevention_and_Monitoring" type="string"/>
<Field name="CMS182_Ischemic_Vascular_Disease_IVD" type="string"/>
<Field name="CMS185_Healthy_Term_Newborn" type="string"/>
<Field name="CMS188_PN_6_Initial_Antibiotic_Select" type="string"/>
<Field name="CMS190_VTE_2_Intensive_Care_Unit_ICU" type="string"/>
<Field name="CMS22_Preventive_Care_and_Screening" type="string"/>
<Field name="CMS26_Home_Management_Plan_of_Care_H" type="string"/>
<Field name="CMS2_Preventive_Care_and_Screening_S" type="string"/>
<Field name="CMS30_AMI_10_Statin_Prescribed_at_Disc" type="string"/>
<Field name="CMS31_EHDI_1a_Hearing_screening_prio" type="string"/>
<Field name="CMS32_ED_3_Median_time_from_ED_arrival" type="string"/>
<Field name="CMS50_Closing_the_referral_loop_rece" type="string"/>
<Field name="CMS52_HIV_AIDS_Pneumocystis_jiroveci" type="string"/>
<Field name="CMS53_AMI_8a_Primary_PCI_Received_Wit" type="string"/>
<Field name="CMS55_Emergency_Department_ED_1_Emer" type="string"/>
<Field name="CMS56_Functional_status_assessment_for" type="string"/>
<Field name="CMS60_AMI_7a_Fibrinolytic_Therapy_Rec" type="string"/>
<Field name="CMS61_Preventive_Care_and_Screening" type="string"/>
<Field name="CMS62_HIV_AIDS_Medical_Visit" type="string"/>
<Field name="CMS64_Preventive_Care_and_Screening" type="string"/>
<Field name="CMS65_Hypertension_Improvement_in_bl" type="string"/>
<Field name="CMS66_Functional_status_assessment_for" type="string"/>
<Field name="CMS68_Documentation_of_Current_Medicat" type="string"/>
<Field name="CMS69_Preventive_Care_and_Screening_B" type="string"/>
<Field name="CMS71_Stroke_3_Ischemic_stroke_Antic" type="string"/>
<Field name="CMS72_Stroke_5_Ischemic_stroke_Antit" type="string"/>
<Field name="CMS73_VTE_3_VTE_Patients_with_Anticoag" type="string"/>
<Field name="CMS74_Primary_Caries_Prevention_Interv" type="string"/>
<Field name="CMS75_Children_who_have_dental_decay_o" type="string"/>
<Field name="CMS77_HIV_AIDS_RNA_control_for_Patie" type="string"/>
<Field name="CMS82_Maternal_depression_screening" type="string"/>
<Field name="CMS90_Functional_status_assessment_for" type="string"/>
<Field name="CMS91_Stroke_4_Ischemic_stroke_Throm" type="string"/>
<Field name="CMS9_Exclusive_Breast_Milk_Feeding" type="string"/>
<Field eofAsDelimiter="true" name="Checksum" type="string"/>
</Record>
</Metadata>
<Metadata id="Product" previewAttachmentCharset="ISO-8859-1">
<Record fieldDelimiter="|" name="Product" previewAttachmentCharset="ISO-8859-1" recordDelimiter="\r\n" type="delimited">
<Field name="Product" type="string"/>
<Field name="Product_id" type="long"/>
<Field name="Vendor" type="string"/>
<Field name="Vendor_id" type="long"/>
</Record>
</Metadata>
<Metadata id="Product_Version" previewAttachmentCharset="ISO-8859-1">
<Record fieldDelimiter="|" name="Product_Version" previewAttachmentCharset="ISO-8859-1" recordDelimiter="\r\n" type="delimited">
<Field name="Version" type="string"/>
<Field name="Product" type="string"/>
<Field name="Product_id" type="long"/>
<Field name="Vendor" type="string"/>
<Field name="Vendor_id" type="long"/>
</Record>
</Metadata>
<Metadata id="Vendor" previewAttachmentCharset="ISO-8859-1">
<Record fieldDelimiter="|" name="Vendor" previewAttachmentCharset="ISO-8859-1" recordDelimiter="\r\n" type="delimited">
<Field name="Vendor" type="string"/>
<Field name="Vendor_id" type="long"/>
</Record>
</Metadata>
<MetadataGroup name="Implicit metadata" type="implicit">
<Metadata id="__static_metadata_DATA_READER_UniversalDataReader_Error">
<Record fieldDelimiter="|" name="UniversalDataReader_Error" recordDelimiter="\n" type="delimited">
<Field name="recordNo" type="long"/>
<Field name="fieldNo" type="integer"/>
<Field name="originalData" type="string"/>
<Field name="errorMessage" type="string"/>
<Field name="fileURL" type="string"/>
</Record>
</Metadata>
</MetadataGroup>
<Connection database="POSTGRE" dbURL="${openchpl_db_url}" id="JDBC0" jdbcSpecific="POSTGRE" name="PostgreSQL" password="${openchpl_password}" type="JDBC" user="openchpl"/>
<GraphParameters>
<GraphParameterFile fileURL="parameters.prm"/>
</GraphParameters>
<Dictionary/>
</Global>
<Phase number="0">
<Node dedupKey="Vendor(a);Product(a)" enabled="enabled" guiName="Dedup product" guiX="695" guiY="132" id="DEDUP_PRODUCT" type="DEDUP"/>
<Node dedupKey="Version(a);Product(a);Vendor(a)" enabled="enabled" guiName="Dedup product_version" guiX="695" guiY="330" id="DEDUP_PRODUCT_VERSION" type="DEDUP"/>
<Node dedupKey="Vendor(a)" enabled="enabled" guiName="Dedup vendor" guiX="695" guiY="20" id="DEDUP_VENDOR" type="DEDUP"/>
<Node enabled="enabled" fileURL="./log_create-vendor-product.txt" guiName="Log failed rows" guiX="245" guiY="139" id="LOG_FAILED_ROWS" type="DATA_WRITER"/>
<Node dataPolicy="controlled" enabled="enabled" fileURL="./src/main/resources/chpl_to-insert.csv" guiName="Read in CSV" guiX="20" guiY="20" id="READ_IN_CSV" skipRows="0" type="DATA_READER"/>
<Node dbConnection="JDBC0" enabled="enabled" guiName="Save new Vendors" guiX="920" guiY="20" id="SAVE_NEW_VENDORS" type="DB_OUTPUT_TABLE">
<attr name="sqlQuery"><![CDATA[BEGIN;
LOCK TABLE openchpl.vendor IN SHARE ROW EXCLUSIVE MODE;
INSERT INTO openchpl.vendor (name, last_modified_user)
	SELECT $Vendor, -1
	WHERE NOT EXISTS (
		SELECT 1 FROM openchpl.vendor WHERE name = $Vendor
	);
COMMIT;]]></attr>
</Node>
<Node enabled="enabled" guiName="Sort product" guiX="470" guiY="132" id="SORT_PRODUCT1" sortKey="Vendor(a);Product(a)" type="EXT_SORT"/>
<Node enabled="enabled" guiName="Sort product_version" guiX="470" guiY="330" id="SORT_PRODUCT_VERSION" sortKey="Version(a);Product(a);Vendor(a)" type="EXT_SORT"/>
<Node enabled="enabled" guiName="Sort vendor" guiX="470" guiY="20" id="SORT_VENDOR1" sortKey="Vendor(a)" type="EXT_SORT"/>
<Node enabled="enabled" guiName="Split data" guiX="245" guiY="20" id="SPLIT_DATA" type="REFORMAT">
<attr name="transform"><![CDATA[//#CTL2

// Transforms input record into output record.
function integer transform() {
	$out.1.Product = $in.0.Product;
	$out.0.Vendor = $in.0.Vendor;
	$out.1.Vendor = $in.0.Vendor;
	$out.2.Version = $in.0.Version;
	$out.2.Product = $in.0.Product;
	$out.2.Vendor = $in.0.Vendor;

	return ALL;
}
]]></attr>
</Node>
<Edge debugMode="false" fromNode="DEDUP_PRODUCT:0" guiBendpoints="" guiRouter="Manhattan" id="Edge10" inPort="Port 0 (driver)" outPort="Port 0 (unique)" persistedImplicitMetadata="Product" toNode="JOIN_PRODUCT_X_VENDOR:0"/>
<Edge fromNode="DEDUP_PRODUCT_VERSION:0" guiBendpoints="" guiRouter="Manhattan" id="Edge7" inPort="Port 0 (driver)" outPort="Port 0 (unique)" persistedImplicitMetadata="Product_Version" toNode="JOIN_PRODUCT_X_PRODUCT_VERSION:0"/>
<Edge debugMode="false" fromNode="DEDUP_VENDOR:0" guiBendpoints="" guiRouter="Manhattan" id="Edge0" inPort="Port 0 (in)" outPort="Port 0 (unique)" persistedImplicitMetadata="Vendor" toNode="SAVE_NEW_VENDORS:0"/>
<Edge debugMode="false" fromNode="READ_IN_CSV:0" guiBendpoints="" guiRouter="Manhattan" id="Edge4" inPort="Port 0 (in)" metadata="CHPL_To_Insert" outPort="Port 0 (output)" toNode="SPLIT_DATA:0"/>
<Edge debugMode="false" fromNode="READ_IN_CSV:1" guiBendpoints="" guiRouter="Manhattan" id="Edge14" inPort="Port 0 (in)" outPort="Port 1 (logs)" persistedImplicitMetadata="__static_metadata_DATA_READER_UniversalDataReader_Error" toNode="LOG_FAILED_ROWS:0"/>
<Edge debugMode="false" fromNode="SORT_PRODUCT1:0" guiBendpoints="" guiRouter="Manhattan" id="Edge9" inPort="Port 0 (in)" outPort="Port 0 (out)" persistedImplicitMetadata="Product" toNode="DEDUP_PRODUCT:0"/>
<Edge fromNode="SORT_PRODUCT_VERSION:0" guiBendpoints="" guiRouter="Manhattan" id="Edge3" inPort="Port 0 (in)" outPort="Port 0 (out)" persistedImplicitMetadata="Product_Version" toNode="DEDUP_PRODUCT_VERSION:0"/>
<Edge debugMode="false" fromNode="SORT_VENDOR1:0" guiBendpoints="" guiRouter="Manhattan" id="Edge1" inPort="Port 0 (in)" metadata="Vendor" outPort="Port 0 (out)" toNode="DEDUP_VENDOR:0"/>
<Edge debugMode="false" fromNode="SPLIT_DATA:0" guiBendpoints="" guiRouter="Manhattan" id="Edge6" inPort="Port 0 (in)" metadata="Vendor" outPort="Port 0 (out)" toNode="SORT_VENDOR1:0"/>
<Edge fromNode="SPLIT_DATA:1" guiBendpoints="" guiRouter="Manhattan" id="Edge15" inPort="Port 0 (in)" metadata="Product" outPort="Port 1 (out)" toNode="SORT_PRODUCT1:0"/>
<Edge fromNode="SPLIT_DATA:2" guiBendpoints="" guiRouter="Manhattan" id="Edge2" inPort="Port 0 (in)" metadata="Product_Version" outPort="Port 2 (out)" toNode="SORT_PRODUCT_VERSION:0"/>
</Phase>
<Phase number="1">
<Node dbConnection="JDBC0" enabled="enabled" guiName="Get existing Vendors" guiX="684" guiY="231" id="GET_EXISTING_VENDORS" type="DB_INPUT_TABLE">
<attr name="sqlQuery"><![CDATA[SELECT $Vendor_id:=openchpl.vendor.vendor_id,
	   $Vendor:=openchpl.vendor.name 
FROM openchpl.vendor;]]></attr>
</Node>
<Node enabled="enabled" guiName="Join Product x Vendor" guiX="920" guiY="174" id="JOIN_PRODUCT_X_VENDOR" joinKey="$Vendor=$Vendor" joinType="leftOuter" type="EXT_HASH_JOIN">
<attr name="transform"><![CDATA[//#CTL2

// Transforms input record into output record.
function integer transform() {
	$out.0.Product = $in.0.Product;
	$out.0.Vendor = $in.0.Vendor;
	$out.0.Vendor_id = $in.1.Vendor_id;

	return ALL;
}
]]></attr>
</Node>
<Node dbConnection="JDBC0" enabled="enabled" guiName="Save new Products" guiX="1145" guiY="180" id="SAVE_NEW_PRODUCTS" type="DB_OUTPUT_TABLE">
<attr name="sqlQuery"><![CDATA[BEGIN;
LOCK TABLE openchpl.product IN SHARE ROW EXCLUSIVE MODE;
INSERT INTO openchpl.product 
	(vendor_id, name, last_modified_user)
       SELECT $Vendor_id, $Product, -1
       WHERE NOT EXISTS (
             SELECT 1 FROM openchpl.product WHERE
                    name = $Product AND
                    vendor_id = $Vendor_id
       );
COMMIT;]]></attr>
</Node>
<Edge debugMode="false" fromNode="GET_EXISTING_VENDORS:0" guiBendpoints="" guiRouter="Manhattan" id="Edge12" inPort="Port 1 (slave)" metadata="Vendor" outPort="Port 0 (out)" toNode="JOIN_PRODUCT_X_VENDOR:1"/>
<Edge debugMode="false" fromNode="JOIN_PRODUCT_X_VENDOR:0" guiBendpoints="" guiRouter="Manhattan" id="Edge13" inPort="Port 0 (in)" metadata="Product" outPort="Port 0 (out)" toNode="SAVE_NEW_PRODUCTS:0"/>
</Phase>
<Phase number="2">
<Node dbConnection="JDBC0" enabled="enabled" guiName="Get existing products" guiX="684" guiY="433" id="GET_EXISTING_PRODUCTS" type="DB_INPUT_TABLE">
<attr name="sqlQuery"><![CDATA[SELECT $Product_id:=openchpl.product.product_id,
$Product:=openchpl.product.name,
$Vendor_id:=openchpl.vendor.vendor_id,
$Vendor:=openchpl.vendor.name
FROM openchpl.product,
openchpl.vendor
WHERE vendor.vendor_id = product.vendor_id;]]></attr>
</Node>
<Node enabled="enabled" guiName="Join Product x Product_Version" guiX="934" guiY="330" id="JOIN_PRODUCT_X_PRODUCT_VERSION" joinKey="$Product=$Product;$Vendor=$Vendor" joinType="inner" type="EXT_HASH_JOIN">
<attr name="transform"><![CDATA[//#CTL2

// Transforms input record into output record.
function integer transform() {
	$out.0.Version = $in.0.Version;
	$out.0.Product_id = $in.1.Product_id;
	$out.0.Vendor_id = $in.1.Vendor_id;

	return ALL;
}
]]></attr>
</Node>
<Node dbConnection="JDBC0" enabled="enabled" guiName="Save new Product_Versions" guiX="1183" guiY="330" id="SAVE_NEW_PRODUCT_VERSIONS" type="DB_OUTPUT_TABLE">
<attr name="sqlQuery"><![CDATA[BEGIN;
LOCK TABLE openchpl.product_version IN SHARE ROW EXCLUSIVE MODE;
INSERT INTO openchpl.product_version (version, product_id, last_modified_user)
       SELECT $Version, $Product_id, -1
       WHERE NOT EXISTS (
             SELECT 1 FROM openchpl.product_version, openchpl.product WHERE
                    version = $Version AND
                    product_version.product_id = $Product_id AND
					product.product_id = product_version.product_id AND
					product.vendor_id = $Vendor_id
       );
COMMIT;]]></attr>
</Node>
<Edge fromNode="GET_EXISTING_PRODUCTS:0" guiBendpoints="" guiRouter="Manhattan" id="Edge5" inPort="Port 1 (slave)" metadata="Product" outPort="Port 0 (out)" toNode="JOIN_PRODUCT_X_PRODUCT_VERSION:1"/>
<Edge debugMode="false" fromNode="JOIN_PRODUCT_X_PRODUCT_VERSION:0" guiBendpoints="" guiRouter="Manhattan" id="Edge8" inPort="Port 0 (in)" metadata="Product_Version" outPort="Port 0 (out)" toNode="SAVE_NEW_PRODUCT_VERSIONS:0"/>
</Phase>
</Graph>
